@model string

@section Css{
	<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet">

	<link href="~/Profile/site.css" rel="stylesheet" />
	<style>

		.navbar.sticky-top {
			top: 0px !important;
		}
	</style>

}

@{
	ViewData["Title"] = "Forgot Password";

}


<div class="container-fluid p-0">
	<!-- Header -->
	<div class="header pb-8 pt-5 pt-lg-8 d-flex align-items-center" style="min-height: 350px; background-image: url(https://img.freepik.com/premium-vector/young-man-solving-problem-remembering-password_258190-1046.jpg?w=740); background-size: cover; background-position: center top;">
		<!-- Mask -->
		<span class="mask bg-gradient-default opacity-8"></span>
		<!-- Header container -->
		<div class="container-fluid d-flex align-items-center">
			<div class="row">
				<div class="col-lg-7 col-md-10">
					<h1 class="display-2 text-white">Hello </h1>
					<p class="text-white mt-0 mb-5">This is Forgot password page. You can update your password again by re-enter your email.</p>
					<a asp-action="Welcome" asp-controller="Login" class="btn btn-info">Back</a>

				</div>
			</div>
		</div>
	</div>
	<!-- Page content -->
	<div class="container-fluid mt--7">
		<div class="row" style="justify-content:center!important;">
			<div class="col-xl-8 order-xl-1">
				<div class="card bg-secondary shadow">
					<div class="card-header bg-white border-0">
						<div class="row align-items-center">
							<div class="col-8">
								<h3 class="mb-0">Forgot Password</h3>
								<h3 class="mb-0 text-success"> @ViewBag.status</h3>
							</div>

						</div>
					</div>
					@if (ViewBag.status == null)
					{
						<div class="card-body">
							<form asp-action="ForgotPassword" method="post" onsubmit="return validateForm();">
								<h6 class="heading-small text-muted mb-4">User Email</h6>
								<div class="pl-lg-4">
									<div class="row">
										<div class="col-lg-8">
											<div class="form-group focused">
												<label class="form-control-label">Your email</label>
												<input name="email" type="text" class="form-control form-control-alternative" placeholder="Enter your email" id="email">
											</div>
										</div>

									</div>
								</div>
								<div class="col-6 text-right">
									<input type="submit" class="btn btn-sm btn-primary" value="Send Me Email For Changing my Password" onMouseOver="this.style.color='#0F0'">

								</div>
							</form>
						</div>
					}
					else
					{
						<div class="card-body">
							<h6 class="heading-small text-muted mb-4">Check your email to continue</h6>
						@* 	<div class="col-6 text-right">
								<a asp-action="Welcome" asp-controller="Login" class="btn btn-sm btn-primary" onMouseOver="this.style.color='#0F0'">Login</a>

							</div> *@
						</div>
					}

				</div>
			</div>
		</div>
	</div>
</div>
<script type="text/javascript">
	function validateForm() {

		// Get the value of the input field with id="email"
		var email = document.getElementById("email").value;
		// Regular expression to check if the email is in the correct format
		var emailRegex = /^([\w-\.]+)@@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/;

		// Check if the email is empty
		if (email == "") {
			alert("Email field must be filled out");
			return false;
		}

		// Check if the email is in the correct format
		if (!email.match(emailRegex)) {
			alert("Please enter a valid email address");
			return false;
		}

		// Send a request to the server to check the user's credentials
		// If the credentials are correct, return true to submit the form
		// If the credentials are incorrect, display an error message and return false to prevent the form from being submitted
		return true;
	}
</script>
